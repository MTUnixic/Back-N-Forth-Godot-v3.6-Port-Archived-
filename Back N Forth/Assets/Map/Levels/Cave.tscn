[gd_scene load_steps=256 format=2]

[ext_resource path="res://Assets/GUI/Results.gd" type="Script" id=1]
[ext_resource path="res://Assets/Map/Escape!.gd" type="Script" id=2]
[ext_resource path="res://Assets/Map/EscapeTimer.gd" type="Script" id=3]
[ext_resource path="res://addons/rmsmartshape/normal_range.gd" type="Script" id=4]
[ext_resource path="res://addons/rmsmartshape/shapes/point.gd" type="Script" id=5]
[ext_resource path="res://addons/rmsmartshape/shapes/point_array.gd" type="Script" id=6]
[ext_resource path="res://addons/rmsmartshape/materials/edge_material_metadata.gd" type="Script" id=7]
[ext_resource path="res://addons/rmsmartshape/materials/shape_material.gd" type="Script" id=8]
[ext_resource path="res://addons/rmsmartshape/materials/edge_material.gd" type="Script" id=9]
[ext_resource path="res://addons/rmsmartshape/vertex_properties.gd" type="Script" id=10]
[ext_resource path="res://addons/rmsmartshape/shapes/shape_closed.gd" type="Script" id=11]
[ext_resource path="res://Assets/Player/Blink.tscn" type="PackedScene" id=12]
[ext_resource path="res://Assets/GUI/Sounds/BnF-AltLULLABY.mp3" type="AudioStream" id=13]
[ext_resource path="res://Assets/Interactables/EscapeOrb.tscn" type="PackedScene" id=14]
[ext_resource path="res://Assets/Map/BG/1_1BG.svg" type="Texture" id=15]
[ext_resource path="res://Assets/Map/MoveSprites.gd" type="Script" id=16]
[ext_resource path="res://Assets/Map/MusicPlayer.gd" type="Script" id=17]
[ext_resource path="res://Assets/OutlineShader.gd" type="Script" id=18]
[ext_resource path="res://Assets/RichTextLabel Effects/Handlee-Regular.ttf" type="DynamicFontData" id=19]
[ext_resource path="res://Assets/Map/BlueBG.gd" type="Script" id=20]
[ext_resource path="res://Assets/Map/Camera.gd" type="Script" id=21]
[ext_resource path="res://Assets/GUI/Assets/EndOfDemo.png" type="Texture" id=22]
[ext_resource path="res://Assets/GUI/Sounds/Victory.wav" type="AudioStream" id=23]
[ext_resource path="res://Assets/GUI/Sounds/Timeout.wav" type="AudioStream" id=24]
[ext_resource path="res://Assets/GUI/Sounds/In-Game OST__MT Unixic-Escapism.mp3" type="AudioStream" id=26]
[ext_resource path="res://Assets/GUI/Assets/EscapeBarProgress.svg" type="Texture" id=27]
[ext_resource path="res://Assets/GUI/Assets/EscapeBarBG.svg" type="Texture" id=28]
[ext_resource path="res://Assets/Interactables/KeyNDoor.tscn" type="PackedScene" id=29]
[ext_resource path="res://Assets/Map/Assets/1_Cave_Top.svg" type="Texture" id=30]
[ext_resource path="res://Assets/Map/Assets/1_Cave.svg" type="Texture" id=31]
[ext_resource path="res://Assets/Interactables/Assets/LavaTexture.svg" type="Texture" id=32]
[ext_resource path="res://Assets/Interactables/Spikes.gd" type="Script" id=33]
[ext_resource path="res://Assets/Interactables/Assets/Spikes_2.svg" type="Texture" id=34]
[ext_resource path="res://Assets/Interactables/Assets/Spikes_6.svg" type="Texture" id=35]
[ext_resource path="res://Assets/Interactables/Assets/Spike_test.svg" type="Texture" id=36]
[ext_resource path="res://Assets/Interactables/Assets/Spikes_5.svg" type="Texture" id=37]
[ext_resource path="res://Assets/Interactables/Assets/Spikes_4.svg" type="Texture" id=38]
[ext_resource path="res://Assets/Interactables/Assets/Spikes_3.svg" type="Texture" id=39]
[ext_resource path="res://Assets/Interactables/Lava.gd" type="Script" id=40]
[ext_resource path="res://Assets/Interactables/Portal.tscn" type="PackedScene" id=41]
[ext_resource path="res://Assets/Interactables/MovingPortal.tscn" type="PackedScene" id=42]
[ext_resource path="res://Assets/Interactables/Moving Platform.tscn" type="PackedScene" id=43]

[sub_resource type="Shader" id=101]
code = "shader_type canvas_item;

const float PI = 3.1415926535;

// Uniforms from both shaders
uniform float strength: hint_range(0., 1.) = 0.5;  // For the rainbow effect
uniform float speed: hint_range(0., 10.) = 0.5;    // For the rainbow effect
uniform float angle: hint_range(0., 360.) = 0.;    // For the rainbow effect

uniform vec4 tint_color: hint_color = vec4(1.0, 1.0, 1.0, 1.0);  // For the tint effect
uniform float difference: hint_range(0.0, 1.0) = 0.0;  // For the tint effect

void fragment() {
    // Get the original texture color
    vec4 tex = texture(TEXTURE, UV);
    
    // Rainbow effect calculations (HSV to RGB)
    float hue = UV.x * cos(radians(angle)) - UV.y * sin(radians(angle));
    hue = fract(hue + fract(TIME  * speed));
    float x = 1. - abs(mod(hue / (1./ 6.), 2.) - 1.);
    vec3 rainbow;
    if(hue < 1./6.){
        rainbow = vec3(1., x, 0.);
    } else if (hue < 1./3.) {
        rainbow = vec3(x, 1., 0);
    } else if (hue < 0.5) {
        rainbow = vec3(0, 1., x);
    } else if (hue < 2./3.) {
        rainbow = vec3(0., x, 1.);
    } else if (hue < 5./6.) {
        rainbow = vec3(x, 0., 1.);
    } else {
        rainbow = vec3(1., 0., x);
    }

    // Apply the rainbow effect
    vec3 rainbow_mix = mix(tex.rgb, rainbow, strength);
    
    // Apply the tint effect on top of the rainbow mix
    vec3 tinted_color = mix(rainbow_mix, tint_color.rgb, difference);
    
    // Set the final color
    COLOR.rgb = tinted_color;
    COLOR.a = tex.a;  // Preserve the original alpha value
}
"

[sub_resource type="ShaderMaterial" id=4430]
shader = SubResource( 101 )
shader_param/strength = 0.123
shader_param/speed = 0.1
shader_param/angle = 99.622
shader_param/tint_color = Color( 0.513726, 1, 0.945098, 0.498039 )
shader_param/difference = 0.0

[sub_resource type="RectangleShape2D" id=4740]
extents = Vector2( 126.5, 127 )

[sub_resource type="Animation" id=4741]
length = 5.0
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 2.5, 5 ),
"transitions": PoolRealArray( -2, -2, -2 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, -20 ), Vector2( 0, 0 ) ]
}

[sub_resource type="DynamicFont" id=4479]
size = 100
outline_size = 7
font_data = ExtResource( 19 )

[sub_resource type="Resource" id=4744]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4745]
script = ExtResource( 5 )
position = Vector2( 58.7317, 454.305 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4744 )

[sub_resource type="Resource" id=4746]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4747]
script = ExtResource( 5 )
position = Vector2( -235.544, 1235.9 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4746 )

[sub_resource type="Resource" id=4748]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4749]
script = ExtResource( 5 )
position = Vector2( -2096.77, 53.0313 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4748 )

[sub_resource type="Resource" id=4750]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4751]
script = ExtResource( 5 )
position = Vector2( -2026.59, 270.253 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4750 )

[sub_resource type="Resource" id=4752]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4753]
script = ExtResource( 5 )
position = Vector2( -2141.43, 1259.66 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4752 )

[sub_resource type="Resource" id=4754]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4755]
script = ExtResource( 5 )
position = Vector2( -2141.43, 1259.66 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4754 )

[sub_resource type="Resource" id=4756]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4757]
script = ExtResource( 5 )
position = Vector2( -1609.27, 274.099 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4756 )

[sub_resource type="Resource" id=4758]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4759]
script = ExtResource( 5 )
position = Vector2( -1741.34, -21.2847 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4758 )

[sub_resource type="Resource" id=4760]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4761]
script = ExtResource( 5 )
position = Vector2( -1955.96, 3.08252 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4760 )

[sub_resource type="Resource" id=4762]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4763]
script = ExtResource( 5 )
position = Vector2( -2106.66, -182.754 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4762 )

[sub_resource type="Resource" id=4764]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4765]
script = ExtResource( 5 )
position = Vector2( -1278.64, -181.724 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4764 )

[sub_resource type="Resource" id=4766]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4767]
script = ExtResource( 5 )
position = Vector2( -546.492, 104.689 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4766 )

[sub_resource type="Resource" id=4768]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4769]
script = ExtResource( 5 )
position = Vector2( -340.482, -160.273 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4768 )

[sub_resource type="Resource" id=4770]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4771]
script = ExtResource( 5 )
position = Vector2( -1044.09, 459.556 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4770 )

[sub_resource type="Resource" id=4772]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4773]
script = ExtResource( 5 )
position = Vector2( -1649.78, 1164.44 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4772 )

[sub_resource type="Resource" id=4774]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4775]
script = ExtResource( 5 )
position = Vector2( -447.458, 437.179 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4774 )

[sub_resource type="Resource" id=4776]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4777]
script = ExtResource( 5 )
position = Vector2( 23.5502, 1225.11 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4776 )

[sub_resource type="Resource" id=4778]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4779]
script = ExtResource( 5 )
position = Vector2( 197.143, 194.899 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4778 )

[sub_resource type="Resource" id=4780]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4781]
script = ExtResource( 5 )
position = Vector2( -372.546, 147.056 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4780 )

[sub_resource type="Resource" id=4782]
script = ExtResource( 10 )
texture_idx = 2
flip = false
width = 1.0

[sub_resource type="Resource" id=4783]
script = ExtResource( 5 )
position = Vector2( -349.083, -10.5119 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4782 )

[sub_resource type="Resource" id=4784]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4785]
script = ExtResource( 5 )
position = Vector2( -178.357, -147.674 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4784 )

[sub_resource type="Resource" id=4786]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4787]
script = ExtResource( 5 )
position = Vector2( 992.931, 8.84296 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4786 )

[sub_resource type="Resource" id=4788]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4789]
script = ExtResource( 5 )
position = Vector2( -420.163, 177.673 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4788 )

[sub_resource type="Resource" id=4790]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4791]
script = ExtResource( 5 )
position = Vector2( 197.212, 159.323 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4790 )

[sub_resource type="Resource" id=4792]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4793]
script = ExtResource( 5 )
position = Vector2( 199.054, 13.6863 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4792 )

[sub_resource type="Resource" id=4794]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4795]
script = ExtResource( 5 )
position = Vector2( -368.908, 23.9844 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4794 )

[sub_resource type="Resource" id=4796]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4797]
script = ExtResource( 5 )
position = Vector2( -2023.21, 38.0512 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4796 )

[sub_resource type="Resource" id=4798]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4799]
script = ExtResource( 5 )
position = Vector2( -1173.38, 130.929 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4798 )

[sub_resource type="Resource" id=4800]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4801]
script = ExtResource( 5 )
position = Vector2( -676.82, 114.911 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4800 )

[sub_resource type="Resource" id=4802]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4803]
script = ExtResource( 5 )
position = Vector2( -1468.23, 25.3811 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4802 )

[sub_resource type="Resource" id=4804]
script = ExtResource( 10 )
texture_idx = 1
flip = false
width = 1.0

[sub_resource type="Resource" id=4805]
script = ExtResource( 5 )
position = Vector2( -1283.98, 594.996 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4804 )

[sub_resource type="Resource" id=4806]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4807]
script = ExtResource( 5 )
position = Vector2( -1664.95, 474.876 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4806 )

[sub_resource type="Resource" id=4808]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4809]
script = ExtResource( 5 )
position = Vector2( -1605.25, 313.019 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4808 )

[sub_resource type="Resource" id=4810]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4811]
script = ExtResource( 5 )
position = Vector2( -1482.97, 611.764 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4810 )

[sub_resource type="Resource" id=4812]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4813]
script = ExtResource( 5 )
position = Vector2( -2007.69, 138.636 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4812 )

[sub_resource type="Resource" id=4814]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4815]
script = ExtResource( 5 )
position = Vector2( 996.516, -116.137 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4814 )

[sub_resource type="Resource" id=4816]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4817]
script = ExtResource( 5 )
position = Vector2( 669.407, 30.6308 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4816 )

[sub_resource type="Resource" id=4818]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4819]
script = ExtResource( 5 )
position = Vector2( 143.659, 0.796616 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4818 )

[sub_resource type="Resource" id=4820]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4821]
script = ExtResource( 5 )
position = Vector2( -4.68158, -1.81372 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4820 )

[sub_resource type="Resource" id=4822]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4823]
script = ExtResource( 5 )
position = Vector2( -359.706, 75.9171 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4822 )

[sub_resource type="Resource" id=4824]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4825]
script = ExtResource( 5 )
position = Vector2( 859.294, 30.4504 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4824 )

[sub_resource type="Resource" id=4826]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4827]
script = ExtResource( 5 )
position = Vector2( 967.753, 168.355 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4826 )

[sub_resource type="Resource" id=4828]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4829]
script = ExtResource( 5 )
position = Vector2( 943.03, 128.472 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4828 )

[sub_resource type="Resource" id=4830]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4831]
script = ExtResource( 5 )
position = Vector2( -156.593, 175.88 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4830 )

[sub_resource type="Resource" id=4832]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4833]
script = ExtResource( 5 )
position = Vector2( -1897.03, 524.584 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4832 )

[sub_resource type="Resource" id=4834]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4835]
script = ExtResource( 5 )
position = Vector2( -1700.64, 605.87 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4834 )

[sub_resource type="Resource" id=4836]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4837]
script = ExtResource( 5 )
position = Vector2( -1919, 1064 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4836 )

[sub_resource type="Resource" id=4838]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4839]
script = ExtResource( 5 )
position = Vector2( -1983, 692 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4838 )

[sub_resource type="Resource" id=4840]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4841]
script = ExtResource( 5 )
position = Vector2( -1750, 732 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4840 )

[sub_resource type="Resource" id=4842]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4843]
script = ExtResource( 5 )
position = Vector2( -1060.89, 705.805 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4842 )

[sub_resource type="Resource" id=4844]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4845]
script = ExtResource( 5 )
position = Vector2( -1466, 735 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4844 )

[sub_resource type="Resource" id=4846]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4847]
script = ExtResource( 5 )
position = Vector2( -1124, 1184 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4846 )

[sub_resource type="Resource" id=4848]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4849]
script = ExtResource( 5 )
position = Vector2( -582.294, 805.092 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4848 )

[sub_resource type="Resource" id=4850]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4851]
script = ExtResource( 5 )
position = Vector2( -763.258, 1141.62 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4850 )

[sub_resource type="Resource" id=4852]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4853]
script = ExtResource( 5 )
position = Vector2( -1817.6, 486.642 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4852 )

[sub_resource type="Resource" id=4854]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4855]
script = ExtResource( 5 )
position = Vector2( -1575.91, 596.403 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4854 )

[sub_resource type="Resource" id=4856]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4857]
script = ExtResource( 5 )
position = Vector2( -1751.22, 659.473 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4856 )

[sub_resource type="Resource" id=4858]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4859]
script = ExtResource( 5 )
position = Vector2( -471.695, 1200.9 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4858 )

[sub_resource type="Resource" id=4860]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4861]
script = ExtResource( 5 )
position = Vector2( -409.786, 835.801 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4860 )

[sub_resource type="Resource" id=4862]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4863]
script = ExtResource( 5 )
position = Vector2( -332.003, 1053.28 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4862 )

[sub_resource type="Resource" id=4864]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4865]
script = ExtResource( 5 )
position = Vector2( -646.309, 711.984 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4864 )

[sub_resource type="Resource" id=4866]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4867]
script = ExtResource( 5 )
position = Vector2( -265.333, 929.458 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4866 )

[sub_resource type="Resource" id=4868]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4869]
script = ExtResource( 5 )
position = Vector2( -339.94, 1180.27 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4868 )

[sub_resource type="Resource" id=4870]
script = ExtResource( 6 )
_points = {
1: SubResource( 4745 ),
2: SubResource( 4747 ),
6: SubResource( 4749 ),
7: SubResource( 4751 ),
8: SubResource( 4753 ),
9: SubResource( 4755 ),
11: SubResource( 4757 ),
13: SubResource( 4759 ),
14: SubResource( 4761 ),
15: SubResource( 4763 ),
16: SubResource( 4765 ),
17: SubResource( 4767 ),
18: SubResource( 4769 ),
32: SubResource( 4771 ),
35: SubResource( 4773 ),
36: SubResource( 4775 ),
37: SubResource( 4777 ),
41: SubResource( 4779 ),
42: SubResource( 4781 ),
43: SubResource( 4783 ),
45: SubResource( 4785 ),
46: SubResource( 4787 ),
48: SubResource( 4789 ),
52: SubResource( 4791 ),
53: SubResource( 4793 ),
55: SubResource( 4795 ),
56: SubResource( 4797 ),
58: SubResource( 4799 ),
59: SubResource( 4801 ),
60: SubResource( 4803 ),
61: SubResource( 4805 ),
62: SubResource( 4807 ),
63: SubResource( 4809 ),
64: SubResource( 4811 ),
65: SubResource( 4813 ),
66: SubResource( 4815 ),
67: SubResource( 4817 ),
68: SubResource( 4819 ),
69: SubResource( 4821 ),
70: SubResource( 4823 ),
71: SubResource( 4825 ),
72: SubResource( 4827 ),
73: SubResource( 4829 ),
74: SubResource( 4831 ),
75: SubResource( 4833 ),
76: SubResource( 4835 ),
77: SubResource( 4837 ),
78: SubResource( 4839 ),
79: SubResource( 4841 ),
80: SubResource( 4843 ),
81: SubResource( 4845 ),
82: SubResource( 4847 ),
83: SubResource( 4849 ),
84: SubResource( 4851 ),
85: SubResource( 4853 ),
88: SubResource( 4855 ),
89: SubResource( 4857 ),
90: SubResource( 4859 ),
91: SubResource( 4861 ),
92: SubResource( 4863 ),
93: SubResource( 4865 ),
94: SubResource( 4867 ),
95: SubResource( 4869 )
}
_point_order = [ 8, 6, 15, 16, 18, 45, 66, 46, 72, 73, 71, 67, 53, 68, 69, 43, 55, 70, 42, 52, 41, 74, 48, 17, 59, 58, 60, 13, 14, 56, 65, 7, 11, 63, 62, 85, 75, 78, 77, 35, 82, 84, 90, 95, 92, 94, 91, 83, 93, 80, 81, 79, 89, 76, 88, 64, 61, 32, 36, 1, 37, 2, 9 ]
_constraints = {
[ 8, 9 ]: 15
}
_next_key = 96
_material_overrides = {
}

[sub_resource type="Resource" id=4622]
script = ExtResource( 9 )
textures = [ ExtResource( 30 ) ]
texture_normals = [  ]
textures_corner_outer = [  ]
textures_corner_inner = [  ]
texture_normals_corner_outer = [  ]
texture_normals_corner_inner = [  ]
textures_taper_left = [  ]
textures_taper_right = [  ]
texture_normals_taper_left = [  ]
texture_normals_taper_right = [  ]
randomize_texture = false
use_corner_texture = true
use_taper_texture = true
fit_mode = 0

[sub_resource type="Resource" id=4623]
script = ExtResource( 4 )
begin = 45.0
distance = 90.0
edgeRendering = Vector2( 0, 0 )

[sub_resource type="Resource" id=4624]
script = ExtResource( 7 )
edge_material = SubResource( 4622 )
normal_range = SubResource( 4623 )
weld = true
render = true
z_index = 0
z_as_relative = true
offset = 0.0

[sub_resource type="Resource" id=4478]
script = ExtResource( 8 )
_edge_meta_materials = [ SubResource( 4624 ) ]
fill_textures = [ ExtResource( 31 ) ]
fill_texture_normals = [  ]
fill_texture_z_index = 10
fill_texture_show_behind_parent = false
fill_mesh_offset = 0.0
render_offset = 0.0

[sub_resource type="Resource" id=4871]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4872]
script = ExtResource( 5 )
position = Vector2( -63.4477, 1441.13 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4871 )

[sub_resource type="Resource" id=4873]
script = ExtResource( 10 )
texture_idx = 6
flip = false
width = 1.0

[sub_resource type="Resource" id=4874]
script = ExtResource( 5 )
position = Vector2( -28.7054, 671.266 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4873 )

[sub_resource type="Resource" id=4875]
script = ExtResource( 10 )
texture_idx = 6
flip = false
width = 1.0

[sub_resource type="Resource" id=4876]
script = ExtResource( 5 )
position = Vector2( -28.7054, 671.266 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4875 )

[sub_resource type="Resource" id=4877]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4878]
script = ExtResource( 5 )
position = Vector2( 908.03, 101.037 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4877 )

[sub_resource type="Resource" id=4879]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4880]
script = ExtResource( 5 )
position = Vector2( 1119.87, 1443.05 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4879 )

[sub_resource type="Resource" id=4881]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4882]
script = ExtResource( 5 )
position = Vector2( 57.0471, 958.121 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4881 )

[sub_resource type="Resource" id=4883]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4884]
script = ExtResource( 5 )
position = Vector2( 853.297, 949.124 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4883 )

[sub_resource type="Resource" id=4885]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4886]
script = ExtResource( 5 )
position = Vector2( 1070.8, 106.322 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4885 )

[sub_resource type="Resource" id=4887]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4888]
script = ExtResource( 5 )
position = Vector2( 110.165, 409.329 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4887 )

[sub_resource type="Resource" id=4889]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4890]
script = ExtResource( 5 )
position = Vector2( 18.4994, 400.949 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4889 )

[sub_resource type="Resource" id=4891]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4892]
script = ExtResource( 5 )
position = Vector2( -9.94443, 672.143 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4891 )

[sub_resource type="Resource" id=4893]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4894]
script = ExtResource( 5 )
position = Vector2( 897.354, 475.176 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4893 )

[sub_resource type="Resource" id=4895]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4896]
script = ExtResource( 5 )
position = Vector2( 925.717, 717.747 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4895 )

[sub_resource type="Resource" id=4897]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4898]
script = ExtResource( 5 )
position = Vector2( 84.8038, 558.804 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4897 )

[sub_resource type="Resource" id=4899]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4900]
script = ExtResource( 5 )
position = Vector2( 86.3021, 713.13 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4899 )

[sub_resource type="Resource" id=4901]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4902]
script = ExtResource( 5 )
position = Vector2( 110.556, 433.372 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4901 )

[sub_resource type="Resource" id=4903]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4904]
script = ExtResource( 5 )
position = Vector2( 97.0477, 409.269 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4903 )

[sub_resource type="Resource" id=4905]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4906]
script = ExtResource( 5 )
position = Vector2( 879.201, 384.935 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4905 )

[sub_resource type="Resource" id=4907]
script = ExtResource( 6 )
_points = {
2: SubResource( 4872 ),
46: SubResource( 4874 ),
67: SubResource( 4876 ),
68: SubResource( 4878 ),
69: SubResource( 4880 ),
70: SubResource( 4882 ),
71: SubResource( 4884 ),
72: SubResource( 4886 ),
73: SubResource( 4888 ),
74: SubResource( 4890 ),
75: SubResource( 4892 ),
77: SubResource( 4894 ),
78: SubResource( 4896 ),
79: SubResource( 4898 ),
80: SubResource( 4900 ),
81: SubResource( 4902 ),
82: SubResource( 4904 ),
83: SubResource( 4906 )
}
_point_order = [ 46, 75, 74, 82, 73, 81, 79, 80, 70, 71, 78, 77, 83, 68, 72, 69, 2, 67 ]
_constraints = {
[ 46, 67 ]: 15
}
_next_key = 84
_material_overrides = {
}

[sub_resource type="Resource" id=4908]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4909]
script = ExtResource( 5 )
position = Vector2( -63.4477, 1441.13 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4908 )

[sub_resource type="Resource" id=4910]
script = ExtResource( 10 )
texture_idx = 6
flip = false
width = 1.0

[sub_resource type="Resource" id=4911]
script = ExtResource( 5 )
position = Vector2( -28.7054, 671.266 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4910 )

[sub_resource type="Resource" id=4912]
script = ExtResource( 10 )
texture_idx = 6
flip = false
width = 1.0

[sub_resource type="Resource" id=4913]
script = ExtResource( 5 )
position = Vector2( -28.7054, 671.266 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4912 )

[sub_resource type="Resource" id=4914]
script = ExtResource( 10 )
texture_idx = 2
flip = false
width = 1.0

[sub_resource type="Resource" id=4915]
script = ExtResource( 5 )
position = Vector2( 858.319, 421.302 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4914 )

[sub_resource type="Resource" id=4916]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4917]
script = ExtResource( 5 )
position = Vector2( 1119.87, 1443.05 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4916 )

[sub_resource type="Resource" id=4918]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4919]
script = ExtResource( 5 )
position = Vector2( 57.0471, 958.121 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4918 )

[sub_resource type="Resource" id=4920]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4921]
script = ExtResource( 5 )
position = Vector2( 853.297, 949.124 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4920 )

[sub_resource type="Resource" id=4922]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4923]
script = ExtResource( 5 )
position = Vector2( 1074.9, 413.205 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4922 )

[sub_resource type="Resource" id=4924]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4925]
script = ExtResource( 5 )
position = Vector2( 110.165, 409.329 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4924 )

[sub_resource type="Resource" id=4926]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4927]
script = ExtResource( 5 )
position = Vector2( 18.4994, 400.949 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4926 )

[sub_resource type="Resource" id=4928]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4929]
script = ExtResource( 5 )
position = Vector2( -9.94443, 672.143 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4928 )

[sub_resource type="Resource" id=4930]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4931]
script = ExtResource( 5 )
position = Vector2( 897.354, 475.176 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4930 )

[sub_resource type="Resource" id=4932]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4933]
script = ExtResource( 5 )
position = Vector2( 925.717, 717.747 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4932 )

[sub_resource type="Resource" id=4934]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4935]
script = ExtResource( 5 )
position = Vector2( 84.8038, 558.804 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4934 )

[sub_resource type="Resource" id=4936]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4937]
script = ExtResource( 5 )
position = Vector2( 86.3021, 713.13 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4936 )

[sub_resource type="Resource" id=4938]
script = ExtResource( 10 )
texture_idx = 5
flip = false
width = 1.0

[sub_resource type="Resource" id=4939]
script = ExtResource( 5 )
position = Vector2( 110.556, 433.372 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4938 )

[sub_resource type="Resource" id=4940]
script = ExtResource( 10 )
texture_idx = 0
flip = false
width = 1.0

[sub_resource type="Resource" id=4941]
script = ExtResource( 5 )
position = Vector2( 97.0477, 409.269 )
point_in = Vector2( 0, 0 )
point_out = Vector2( 0, 0 )
properties = SubResource( 4940 )

[sub_resource type="Resource" id=4942]
script = ExtResource( 6 )
_points = {
2: SubResource( 4909 ),
46: SubResource( 4911 ),
67: SubResource( 4913 ),
68: SubResource( 4915 ),
69: SubResource( 4917 ),
70: SubResource( 4919 ),
71: SubResource( 4921 ),
72: SubResource( 4923 ),
73: SubResource( 4925 ),
74: SubResource( 4927 ),
75: SubResource( 4929 ),
77: SubResource( 4931 ),
78: SubResource( 4933 ),
79: SubResource( 4935 ),
80: SubResource( 4937 ),
81: SubResource( 4939 ),
82: SubResource( 4941 )
}
_point_order = [ 46, 75, 74, 82, 73, 81, 79, 80, 70, 71, 78, 77, 68, 72, 69, 2, 67 ]
_constraints = {
[ 46, 67 ]: 15
}
_next_key = 84
_material_overrides = {
}

[sub_resource type="SpriteFrames" id=4742]
animations = [ {
"frames": [ ExtResource( 36 ) ],
"loop": true,
"name": "Spikes_1",
"speed": 5.0
}, {
"frames": [ ExtResource( 34 ) ],
"loop": true,
"name": "Spikes_2",
"speed": 5.0
}, {
"frames": [ ExtResource( 39 ) ],
"loop": true,
"name": "Spikes_3",
"speed": 5.0
}, {
"frames": [ ExtResource( 38 ) ],
"loop": true,
"name": "Spikes_4",
"speed": 5.0
}, {
"frames": [ ExtResource( 37 ) ],
"loop": true,
"name": "Spikes_5",
"speed": 5.0
}, {
"frames": [ ExtResource( 35 ) ],
"loop": true,
"name": "Spikes_6",
"speed": 5.0
} ]

[sub_resource type="RectangleShape2D" id=4743]
extents = Vector2( 74.7645, 150.542 )

[sub_resource type="Shader" id=4429]
code = "shader_type canvas_item;

uniform vec4 color : hint_color = vec4(1.0); // Shadow color
uniform float opacity : hint_range(0, 1.0) = 1.0; // Shadow opacity
uniform float width : hint_range(0, 10) = 1.0; // Shadow width
uniform int pattern : hint_range(0, 2) = 0; // 0: diamond, 1: circle, 2: square
uniform float shadowOpacity : hint_range(0, 1.0) = 1.0;
uniform bool inside = false;
uniform bool add_margins = true; // Only useful when inside is false
uniform float borderScale = 2.0;
uniform float offsetY = -10.0; // Vertical position offset for shadow
uniform vec4 modulate : hint_color = vec4(1.0);
uniform bool debug = false;
uniform float saturation : hint_range(0, 2.0) = 1.0; // Saturation control

// Scaling element
void vertex() {
    if (add_margins) {
        VERTEX += (UV * 2.0 - 1.0) * width;
    }
    VERTEX.xy *= vec2(borderScale);
}

// Hide extra pixels function
vec4 hideExtra(vec2 uv, sampler2D txtr, bool isMain) {
    if (uv.x >= 0.0 && uv.x <= 1.0 && uv.y >= 0.0 && uv.y <= 1.0) {
        vec4 texColor = texture(txtr, uv);
        return isMain ? texColor : vec4(color.rgb, texColor.a - (1.0 - color.a));
    }
    return vec4(0.0);
}

// Function to check for contrary neighbors
bool hasContraryNeighbour(vec2 uv, vec2 texture_pixel_size, sampler2D texture) {
    for (float i = -ceil(width); i <= ceil(width); i++) {
        float x = abs(i) > width ? width * sign(i) : i;
        float offset;
        
        if (pattern == 0) {
            offset = width - abs(x);
        } else if (pattern == 1) {
            offset = floor(sqrt(pow(width + 0.5, 2) - x * x));
        } else if (pattern == 2) {
            offset = width;
        }
        
        for (float j = -ceil(offset); j <= ceil(offset); j++) {
            float y = abs(j) > offset ? offset * sign(j) : j;
            vec2 xy = uv + texture_pixel_size * vec2(x, y);
            
            if ((xy != clamp(xy, vec2(0.0), vec2(1.0)) || texture(texture, xy).a <= 0.0) == inside) {
                return true;
            }
        }
    }
    
    return false;
}


vec3 adjustSaturation(vec3 inColor, float InSaturation) {
    vec3 gray = vec3(1.0);
    return mix(gray, inColor, InSaturation);
}


void fragment() {
    vec2 uv = UV;
    vec2 singlePX = TEXTURE_PIXEL_SIZE;
    
    // Main element color
    vec4 mainColor = texture(TEXTURE, uv);
    
    if (add_margins) {
        vec2 texture_pixel_size = vec2(1.0) / (vec2(1.0) / TEXTURE_PIXEL_SIZE + vec2(width * 2.0));
        
        uv = (uv - texture_pixel_size * width) * TEXTURE_PIXEL_SIZE / texture_pixel_size;
        
        if (uv != clamp(uv, vec2(0.0), vec2(1.0))) {
            COLOR.a = 0.0;
        } else {
            mainColor = texture(TEXTURE, uv);
        }
    }

    mainColor.rgb = adjustSaturation(mainColor.rgb, saturation);

    // Draw shadow or outline
    if ((mainColor.a > 0.0) == inside && hasContraryNeighbour(uv, TEXTURE_PIXEL_SIZE, TEXTURE)) {
        mainColor.rgb = inside ? mix(mainColor.rgb, color.rgb, color.a) : color.rgb;
        mainColor.a += (1.0 - mainColor.a) * opacity; // Apply opacity to the shadow
    }
    
    // Handle shadow position and transparency
    vec2 shadow_uv = vec2(uv.x, uv.y + offsetY * singlePX.y); 
    vec4 shadowColor = hideExtra(shadow_uv, TEXTURE, false);
	shadowColor.a *= shadowOpacity;
    
    // Combine shadow and main color by layering
    vec4 res = mix(shadowColor, mainColor, mainColor.a);
    
    // Draw the sprite over the shadow
    COLOR = res;
    
    // Debug layer
    vec4 debug_layer = vec4(1.0, 0.0, 0.0, 0.3);
    COLOR = mix(debug ? debug_layer : COLOR, COLOR, COLOR.a);
}
"

[sub_resource type="ShaderMaterial" id=4586]
shader = SubResource( 4429 )
shader_param/color = Color( 0, 0, 0, 1 )
shader_param/opacity = 1.0
shader_param/width = 5.0
shader_param/pattern = 0
shader_param/shadowOpacity = 0.142
shader_param/inside = false
shader_param/add_margins = true
shader_param/borderScale = 1.0
shader_param/offsetY = -30.0
shader_param/modulate = Color( 0, 0, 0, 1 )
shader_param/debug = false
shader_param/saturation = 1.0

[sub_resource type="ViewportTexture" id=4432]
viewport_path = NodePath("OutlineShader/CenterContainer/Viewport")

[node name="Main" type="Node2D"]

[node name="BG" type="CanvasLayer" parent="."]
layer = -3

[node name="Control" type="Control" parent="BG"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="TextureRect" type="TextureRect" parent="BG/Control"]
self_modulate = Color( 0.815686, 0.878431, 1, 1 )
show_behind_parent = true
material = SubResource( 4430 )
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -685.0
margin_top = -391.0
margin_right = 339.0
margin_bottom = 209.0
rect_scale = Vector2( 1.3, 1.3 )
texture = ExtResource( 15 )
expand = true
stretch_mode = 6
script = ExtResource( 20 )

[node name="Front_Objects" type="CanvasLayer" parent="."]
layer = 2
follow_viewport_enable = true

[node name="Blink" parent="Front_Objects" instance=ExtResource( 12 )]
position = Vector2( -831, 314 )

[node name="Camera" type="Camera2D" parent="Front_Objects"]
position = Vector2( -1536, 900 )
current = true
smoothing_enabled = true
smoothing_speed = 14.0
script = ExtResource( 21 )

[node name="Back_Objects" type="CanvasLayer" parent="."]
layer = 0
follow_viewport_enable = true

[node name="EscapeOrb" parent="Back_Objects" instance=ExtResource( 14 )]
position = Vector2( -1852, 135 )

[node name="Objects" type="Node2D" parent="Back_Objects"]

[node name="KeyNDoor" parent="Back_Objects/Objects" instance=ExtResource( 29 )]
position = Vector2( -301, 345 )
set_respawn = true
Door_open_rotation = 270.0
Door_open_amount = 105
Open_distance_needed = 100

[node name="Key" parent="Back_Objects/Objects/KeyNDoor" index="0"]
position = Vector2( 13, -285 )

[node name="Door" parent="Back_Objects/Objects/KeyNDoor" index="1"]
position = Vector2( -1396, 193 )

[node name="Lava" type="Area2D" parent="Back_Objects"]
position = Vector2( 582, 645 )
scale = Vector2( 3.48772, 0.890722 )
collision_layer = 17
collision_mask = 17
script = ExtResource( 40 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Back_Objects/Lava"]
shape = SubResource( 4740 )

[node name="Sprite" type="Sprite" parent="Back_Objects/Lava"]
position = Vector2( 0, -24.1412 )
z_index = -79
texture = ExtResource( 32 )

[node name="FloatAnim" type="AnimationPlayer" parent="Back_Objects/Lava"]
anims/Float = SubResource( 4741 )

[node name="MovingPortal" parent="Back_Objects" instance=ExtResource( 42 )]
position = Vector2( 536, 466 )

[node name="MovingPlatform" parent="Back_Objects/MovingPortal" index="0"]
Speed = 2

[node name="PointA" parent="Back_Objects/MovingPortal/MovingPlatform" index="0"]
position = Vector2( -270, 28 )

[node name="PointB" parent="Back_Objects/MovingPortal/MovingPlatform" index="1"]
position = Vector2( 291, 21 )

[node name="Body" parent="Back_Objects/MovingPortal/MovingPlatform/Platform" index="0"]
collision_layer = 17
collision_mask = 17

[node name="Portal_A" parent="Back_Objects/MovingPortal/MovingPlatform/Platform" index="2"]
position = Vector2( -6.10352e-05, -93 )
rotation = -3.14159
scale = Vector2( 1.63701, 0.900655 )

[node name="Texture" parent="Back_Objects/MovingPortal/MovingPlatform/Platform/Portal_A" index="0"]
position = Vector2( 0, -61.275 )
rotation = -1.5708

[node name="HitboxA" parent="Back_Objects/MovingPortal/MovingPlatform/Platform/Portal_A" index="1"]
position = Vector2( 0, -75.7303 )
rotation = 1.5708

[node name="Portal_B" parent="Back_Objects/MovingPortal" index="1"]
position = Vector2( -414, -383 )
rotation = -3.10307

[node name="Texture" parent="Back_Objects/MovingPortal/Portal_B" index="0"]
position = Vector2( 0, 57 )
rotation = 1.5708

[node name="HitboxB" parent="Back_Objects/MovingPortal/Portal_B" index="1"]
position = Vector2( 0, 66 )
rotation = 1.5708

[node name="CollisionShape2D" parent="Back_Objects/MovingPortal/Portal_B/HitboxB" index="0"]
position = Vector2( 0, 0 )

[node name="Portal" parent="Back_Objects" instance=ExtResource( 41 )]
position = Vector2( -260, 373 )
Stop_Player = true

[node name="Portal_A" parent="Back_Objects/Portal" index="0"]
position = Vector2( 290, -123 )
rotation = -1.51609

[node name="Texture" parent="Back_Objects/Portal/Portal_A" index="0"]
position = Vector2( 40, 0 )

[node name="HitboxA" parent="Back_Objects/Portal/Portal_A" index="1"]
position = Vector2( 40, 0 )

[node name="Portal_B" parent="Back_Objects/Portal" index="1"]
position = Vector2( 1168, -161 )
rotation = -6.52267

[node name="Texture" parent="Back_Objects/Portal/Portal_B" index="0"]
position = Vector2( 40, 0 )

[node name="HitboxB" parent="Back_Objects/Portal/Portal_B" index="1"]
position = Vector2( 40, 0 )

[node name="Moving Platform" parent="Back_Objects" instance=ExtResource( 43 )]
position = Vector2( -1067, 346 )
Speed = 4

[node name="PointA" parent="Back_Objects/Moving Platform" index="0"]
position = Vector2( 188, -5 )

[node name="PointB" parent="Back_Objects/Moving Platform" index="1"]
position = Vector2( -245, -64 )

[node name="UI" type="CanvasLayer" parent="."]
layer = 4

[node name="EscapeTimer" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 3 )
EscapeTime = 30

[node name="EscapeProgressBar" type="TextureProgress" parent="UI/EscapeTimer"]
anchor_left = 0.5
anchor_right = 0.5
margin_left = -115.5
margin_top = 100.0
margin_right = 115.5
margin_bottom = 175.0
max_value = 50.0
step = 0.0
value = 50.0
texture_under = ExtResource( 28 )
texture_progress = ExtResource( 27 )
texture_progress_offset = Vector2( 6.5, 0 )

[node name="EscapeTime" type="Timer" parent="UI/EscapeTimer"]

[node name="Results" type="Control" parent="UI"]
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 1 )

[node name="Panel" type="Panel" parent="UI/Results"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Image" type="TextureRect" parent="UI/Results"]
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 22 )
expand = true
stretch_mode = 7

[node name="TimeUntilMenu" type="Timer" parent="UI/Results"]
wait_time = 6.5
one_shot = true

[node name="Tween" type="Tween" parent="UI/Results"]

[node name="Timeout" type="AudioStreamPlayer" parent="UI/Results"]
stream = ExtResource( 24 )

[node name="Victory" type="AudioStreamPlayer" parent="UI/Results"]
stream = ExtResource( 23 )
volume_db = -4.566

[node name="Escape!" type="Control" parent="UI"]
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource( 2 )

[node name="Panel" type="Panel" parent="UI/Escape!"]
self_modulate = Color( 0, 0, 0, 0 )
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Label" type="Label" parent="UI/Escape!/Panel"]
self_modulate = Color( 1, 1, 1, 0 )
anchor_right = 1.0
anchor_bottom = 1.0
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_fonts/font = SubResource( 4479 )
text = "Escape!"
align = 1
valign = 1

[node name="Tween" type="Tween" parent="UI/Escape!"]

[node name="Map" type="Node2D" parent="."]
script = ExtResource( 16 )

[node name="1_1" type="StaticBody2D" parent="Map"]
collision_layer = 25

[node name="ShaderSprite" type="Node2D" parent="Map/1_1"]
script = ExtResource( 11 )
_points = SubResource( 4870 )
shape_material = SubResource( 4478 )
tessellation_stages = 5
tessellation_tolerence = 4.0
flip_edges = false
render_edges = true
collision_size = 32.0
collision_offset = 0.0
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/1_1"]
visible = false
modulate = Color( 1, 1, 1, 0.3 )
polygon = PoolVector2Array( -2141.54, 1259.77, -2096.77, 53.0313, -2106.77, -182.861, -1278.64, -181.724, -340.482, -160.273, -178.357, -147.674, 996.623, -116.238, 992.932, 8.84305, 967.817, 168.674, 943.029, 128.473, 859.275, 30.4922, 669.407, 30.6309, 199.054, 13.6886, 143.659, 0.799376, -4.68158, -1.81372, -349.049, -10.4505, -368.878, 23.9896, -359.698, 75.9171, -372.41, 146.945, 197.314, 159.223, 197.25, 195.012, -156.593, 175.88, -420.167, 177.69, -546.497, 104.711, -676.82, 114.911, -1173.38, 130.938, -1468.23, 25.3829, -1741.34, -21.2797, -1955.96, 3.09053, -2023.13, 38.0936, -2007.68, 138.636, -2026.46, 270.142, -1609.18, 274.005, -1605.24, 313.021, -1664.9, 474.939, -1817.6, 486.65, -1897.01, 524.603, -1982.97, 692.004, -1918.95, 1063.96, -1649.78, 1164.43, -1124, 1184, -763.258, 1141.61, -471.695, 1200.89, -340.021, 1180.2, -332.014, 1053.28, -265.461, 929.491, -409.79, 835.81, -582.315, 805.125, -646.335, 712.033, -1060.89, 705.805, -1466, 735, -1750.1, 732.1, -1751.25, 659.46, -1700.65, 605.84, -1575.91, 596.399, -1482.97, 611.76, -1283.98, 594.985, -1044.09, 459.542, -447.458, 437.179, 58.8408, 454.204, 23.6429, 1225.2, -235.544, 1235.9 )

[node name="1_2" type="StaticBody2D" parent="Map"]
position = Vector2( 88, -218 )
collision_layer = 25

[node name="ShaderSprite" type="Node2D" parent="Map/1_2"]
position = Vector2( -1, 1 )
script = ExtResource( 11 )
_points = SubResource( 4907 )
shape_material = SubResource( 4478 )
tessellation_stages = 5
tessellation_tolerence = 4.0
flip_edges = false
render_edges = true
collision_size = 32.0
collision_offset = 0.0
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/1_2"]
visible = false
modulate = Color( 1, 1, 1, 0.3 )
polygon = PoolVector2Array( -29.8043, 672.158, -11.0333, 673.04, 17.4072, 401.835, 96.0477, 410.268, 109.265, 410.227, 109.559, 434.372, 83.8066, 559.804, 85.3031, 714.13, 56.1737, 959.007, 852.24, 950.047, 924.706, 718.746, 896.354, 476.176, 878.195, 385.935, 906.941, 101.936, 1069.89, 107.227, 1118.98, 1444.16, -64.5592, 1442.24 )

[node name="1_3" type="StaticBody2D" parent="Map"]
position = Vector2( -1065, 788 )
collision_layer = 25

[node name="ShaderSprite" type="Node2D" parent="Map/1_3"]
position = Vector2( -1, 1 )
script = ExtResource( 11 )
_points = SubResource( 4942 )
shape_material = SubResource( 4478 )
tessellation_stages = 5
tessellation_tolerence = 4.0
flip_edges = false
render_edges = true
collision_size = 32.0
collision_offset = 0.0
collision_polygon_node_path = NodePath("../CollisionPolygon2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Map/1_3"]
visible = false
modulate = Color( 1, 1, 1, 0.3 )
polygon = PoolVector2Array( -29.8043, 672.158, -11.0333, 673.04, 17.4071, 401.835, 96.0477, 410.268, 109.265, 410.227, 109.559, 434.372, 83.8066, 559.804, 85.3032, 714.13, 56.1737, 959.007, 852.24, 950.047, 924.706, 718.746, 896.339, 476.182, 857.081, 422.186, 1074, 414.098, 1118.98, 1444.16, -64.5592, 1442.24 )

[node name="Objects" type="Node2D" parent="Map"]

[node name="Hurtbox" type="Area2D" parent="Map/Objects"]
position = Vector2( -1588, 386 )
rotation = -1.25601
scale = Vector2( 0.5, 0.5 )
script = ExtResource( 33 )

[node name="ShaderSprite" type="AnimatedSprite" parent="Map/Objects/Hurtbox"]
z_index = -124
frames = SubResource( 4742 )
animation = "Spikes_6"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Map/Objects/Hurtbox"]
position = Vector2( 0.0222168, -9.45996 )
shape = SubResource( 4743 )

[node name="OutlineShader" type="CanvasLayer" parent="."]
layer = 0

[node name="CenterContainer" type="Control" parent="OutlineShader"]
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = 512.0
margin_top = 305.0
margin_right = 512.0
margin_bottom = 305.0
script = ExtResource( 18 )

[node name="Texture" type="Sprite" parent="OutlineShader/CenterContainer"]
material = SubResource( 4586 )
texture = SubResource( 4432 )

[node name="Viewport" type="Viewport" parent="OutlineShader/CenterContainer"]
size = Vector2( 1024, 600 )
transparent_bg = true
usage = 1
render_target_v_flip = true

[node name="Camera" type="Camera2D" parent="OutlineShader/CenterContainer/Viewport"]
current = true
smoothing_enabled = true
smoothing_speed = 14.0
script = ExtResource( 21 )

[node name="MusicPlayer" type="Node2D" parent="."]
script = ExtResource( 17 )

[node name="Escapeism" type="AudioStreamPlayer" parent="MusicPlayer"]
stream = ExtResource( 26 )
volume_db = -16.824

[node name="Main" type="AudioStreamPlayer" parent="MusicPlayer"]
stream = ExtResource( 13 )
volume_db = -16.824
autoplay = true

[connection signal="body_entered" from="Back_Objects/Lava" to="Back_Objects/Lava" method="_on_Lava_body_entered"]
[connection signal="timeout" from="UI/Results/TimeUntilMenu" to="UI/Results" method="_on_TimeUntilMenu_timeout"]
[connection signal="body_entered" from="Map/Objects/Hurtbox" to="Map/Objects/Hurtbox" method="_on_Hurtbox_body_entered"]

[editable path="Back_Objects/Objects/KeyNDoor"]
[editable path="Back_Objects/MovingPortal"]
[editable path="Back_Objects/Portal"]
[editable path="Back_Objects/Moving Platform"]
